<div class="mortgage-calculator">
  <div class="form-container">
    <h1>Your Mortgage</h1>
    <h2>Calculate Your Mortgage</h2>
    <!-- Form to input mortgage details -->
    <form (ngSubmit)="calculateMortgage()">
      <div class="form-row">
        <div class="form-group">
          <label for="loanAmount">Loan Amount <span>Required</span></label>
          <!-- Input for loan amount -->
          <input type="number" id="loanAmount" [(ngModel)]="loanAmount" name="loanAmount" required (focus)="clearDefault('loanAmount')" />
        </div>
        <div class="form-group">
          <label for="interestRate">Interest Rate (%) <span>Required</span></label>
          <!-- Input for interest rate -->
          <input type="number" id="interestRate" [(ngModel)]="interestRate" name="interestRate" step="0.01" required (focus)="clearDefault('interestRate')" />
        </div>
      </div>
      <div class="form-row">
        <div class="form-group">
          <label for="loanTerm">Loan Term (Years) <span>Required</span></label>
          <!-- Select for loan term -->
          <select id="loanTerm" [(ngModel)]="loanTerm" name="loanTerm" required (focus)="clearDefault('loanTerm')">
            <option value="" disabled selected>Select</option>
            <option value="15">15 Years</option>
            <option value="20">20 Years</option>
            <option value="25">25 Years</option>
            <option value="30">30 Years</option>
            <option value="35">35 Years</option>
          </select>
        </div>
      </div>
      <div class="button-group">
        <!-- Button to go back and blur the result section -->
        <button type="button" class="go-back" (click)="goBack()">Go Back</button>
        <!-- Button to submit the form and calculate the mortgage -->
        <button type="submit" class="next-step">Next Step</button>
      </div>
      <!-- Display error message if there is any -->
      <div *ngIf="errorMessage" class="error-message">{{ errorMessage }}</div>
    </form>
  </div>
  <!-- Display the calculation results, blurred if not submitted -->
  <div [ngClass]="{ 'blur': !submitted }" class="calculation-results">
    <h3>Your Mortgage Calculation</h3>
    <p>Here we will give you an estimate of your repayments </p>
    <!-- Display the calculated monthly payment -->
    <p><strong>Monthly Payment:</strong> €{{ monthlyPayment | number: '1.2-2' }}</p>
    <!-- Display the total amount to be paid -->
    <p><strong>Total Amount to be Paid:</strong> €{{ totalPayment | number: '1.2-2' }}</p>
  </div>
</div>
